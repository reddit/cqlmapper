branches:
    only:
        - master

sudo: required
dist: trusty

language: python
python:
    - "2.7"
    - "3.4"

virtualenv:
    system_site_packages: true

services:
  - cassandra

before_install:
    - sudo sh -c "echo 'JVM_OPTS=\"\${JVM_OPTS} -Djava.net.preferIPv4Stack=false\"' >> /usr/local/cassandra/conf/cassandra-env.sh"
    - sudo service cassandra start
    - sudo add-apt-repository -y ppa:reddit/ppa
    - sudo apt-get update -q
    - sudo apt-get install -y python-flake8 pylint python-cassandra python-six

install:
    - pip install coverage

script:
    - nosetests
